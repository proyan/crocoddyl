SET(${PROJECT_NAME}_BENCHMARK
  boxqp
  unicycle
  lqr
  arm-manipulation
  arm-manipulation-cg
  quadrupedal-gaits
  )

FOREACH(BENCHMARK_NAME ${${PROJECT_NAME}_BENCHMARK})
  ADD_EXECUTABLE(${BENCHMARK_NAME} ${BENCHMARK_NAME}.cpp)
ENDFOREACH(BENCHMARK_NAME ${${PROJECT_NAME}_BENCHMARK})
TARGET_LINK_LIBRARIES(arm-manipulation-cg ${CMAKE_DL_LIBS})

FOREACH(BENCHMARK_NAME ${${PROJECT_NAME}_BENCHMARK})
  PKG_CONFIG_USE_DEPENDENCY(${BENCHMARK_NAME} eigen3)
  PKG_CONFIG_USE_DEPENDENCY(${BENCHMARK_NAME} pinocchio)
  PKG_CONFIG_USE_DEPENDENCY(${BENCHMARK_NAME} example-robot-data)
  TARGET_LINK_LIBRARIES(${BENCHMARK_NAME} ${PROJECT_NAME})
ENDFOREACH(BENCHMARK_NAME ${${PROJECT_NAME}_BENCHMARK})

FOREACH(BENCHMARK_NAME ${${PROJECT_NAME}_BENCHMARK})
  ADD_CUSTOM_TARGET("benchmarks-cpp-${BENCHMARK_NAME}"
    ${BENCHMARK_NAME} \${INPUT})
ENDFOREACH(BENCHMARK_NAME ${${PROJECT_NAME}_BENCHMARK})
IF(BUILD_PYTHON_INTERFACE)
  SET(${PROJECT_NAME}_BENCHMARK_PYTHON
    unicycle
    lqr
    arm_manipulation
    bipedal_walk
    quadrupedal_gaits
    )
  
  FOREACH(BENCHMARK_NAME ${${PROJECT_NAME}_BENCHMARK_PYTHON})
    PYTHON_BUILD(. "${BENCHMARK_NAME}.py")
    ADD_CUSTOM_TARGET("benchmarks-py-${BENCHMARK_NAME}"
      ${CMAKE_COMMAND} -E env PYTHONPATH=$ENV{PYTHONPATH}:${PROJECT_BINARY_DIR}/bindings/python
      ${PYTHON_EXECUTABLE} -c "from ${BENCHMARK_NAME} import *" \${INPUT})
  ENDFOREACH(BENCHMARK_NAME ${${PROJECT_NAME}_BENCHMARK_PYTHON})
ENDIF(BUILD_PYTHON_INTERFACE)
